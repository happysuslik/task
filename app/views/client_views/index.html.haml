
%h2.text-center
  SIMPLE TODO LISTS
  %h4.text-center
    From Ruby Garage
%div.row
  %div.col-md-8.col-md-offset-2
    %form{name: "myForm", novalidate: "true", class: "myForm"}
      %div.input-group
        %span.input-group-addon
          %span.glyphicon
        %input.form-control{name: "uProject", type: "text",
                                           placeholder: "Input your Project",
                                           "ng-model": "project.title",
                                           "ng-required": "true"}

        %span.input-group-btn
          %button.btn.btn-default{"ng-click": "addProject(project)", "ng-disabled": "myForm.$invalid"}
            Add Project

    %div{"ng-show": "myForm.uProject.$invalid" && "myForm.uProject.$dirty"}
      %h4.text-danger
        {{getError(myForm.uProject.$error)}}
    %br

    %div{"ng-repeat": "project in projects"}
      %div.panel.panel-primary
        %div.panel-heading
          %div.list-group
            %div.col-md-10 {{project.title}}

            %div.col-md-1.glyphicon.glyphicon-pencil{"ng-click": "edit(project)", "class": "projectEdit"}
            %div.col-md-1.glyphicon.glyphicon-trash{"ng-click": "destroy(project)", "class": "projectDestroy"}

        -#Task
        %div{"ng-controller": "taskCtrl"}
          %div.panel-body
            %div.row
              %form{name: "myForm", novalidate: "true", class: "myForm"}
                %div.input-group
                  %span.input-group-addon
                    %input{type: "checkbox", "ng-model": "task.completed", name: "uCheckBox"}

                  %input.form-control{name: "uTask", type: "text",
                                                     placeholder: "Input your task",
                                                     "ng-model": "task.text",
                                                     "ng-required": "true"}

                  %span.input-group-btn
                    %button.btn.btn-success{"ng-click": "addTask(task, project)", "ng-disabled": "myForm.$invalid"}
                      Add Task

            %div{"ng-show": "myForm.uTask.$invalid" && "myForm.uTask.$dirty"}
              %h4.text-danger
                {{getError(myForm.uTask.$error)}}

          %div.well{"ng-repeat": "task in tasks | orderBy: 'priority'", "ng-class": "task.completed === true ? 'alert alert-success' : ''"}
            %div.row
              %div.dropdown.col-md-1
                %span.glyphicon.glyphicon-calendar{"type": "button", "data-toggle": "dropdown", "id": "task{{task.priority}}", "aria-haspopup": "true", "aria-expanded": "true"}

                %ul.dropdown-menu{"aria-labelledby": "task{{task.priority}}"}
                  %li
                    %datetimepicker{"data-ng-model": "data.date", "data-on-set-time": "onTimeSet(newDate, oldDate, task)"}

              %input.col-md-1{"type": "checkbox", "name": "tCheckBox", "ng-model": "task.completed", "ng-click": "editCheckBox(task)"}

              %span.col-md-6{"id": "viewTask"}
                {{task.text}}

              %span.glyphicon.glyphicon-arrow-up.col-md-1{"ng-click": "up(task)"}

              %span.glyphicon.glyphicon-arrow-down.col-md-1{"ng-click": "down(task)"}

              %span.glyphicon.glyphicon-pencil.col-md-1{"ng-click": "edit(task, project)", "class": "taskEdit"}

              %span.glyphicon.glyphicon-trash.col-md-1{"ng-click": "destroy(task)", "class": "taskDestroy"}
            %div{"ng-if": "task.deadline"}
              %br

              %div
                Deadline for my task: {{task.deadline | date:'yyyy-MM-dd HH:mm'}}






